const o = (e) => {
  const a = "=".repeat((4 - e.length % 4) % 4), r = (e + a).replace(/-/g, "+").replace(/_/g, "/"), t = window.atob(r), n = new Uint8Array(t.length);
  for (let i = 0; i < t.length; ++i)
    n[i] = t.charCodeAt(i);
  return n;
}, s = ({ publicKey: e }) => ({ getSubscription: async () => {
  if (!("serviceWorker" in navigator) || !("PushManager" in window))
    throw { errorCode: "ServiceWorkerAndPushManagerNotSupported" };
  const r = await navigator.serviceWorker.ready;
  if (!r.pushManager)
    throw { errorCode: "PushManagerUnavailable" };
  if (await r.pushManager.getSubscription())
    throw { errorCode: "ExistingSubscription" };
  const n = o(e);
  return await r.pushManager.subscribe({
    applicationServerKey: n,
    userVisibleOnly: !0
  });
} });
export {
  s as useSubscribe
};
//# sourceMappingURL=index.es.js.map
